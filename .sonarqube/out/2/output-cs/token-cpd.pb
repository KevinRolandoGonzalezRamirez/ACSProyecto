ô+
_C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\equipoController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
equipoController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
IEquipoRepository *
_equipoRepository+ <
;< =
public 
equipoController 
(  
IEquipoRepository  1
equipoRepository2 B
)B C
{ 	
this 
. 
_equipoRepository "
=# $
equipoRepository% 5
;5 6
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllEquipos) 6
(6 7
)7 8
{ 	
return 
Ok 
( 
await 
_equipoRepository ,
., -
GetAllEquipos- :
(: ;
); <
)< =
;= >
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
	GetEquipo) 2
(2 3
int3 6
id7 9
)9 :
{ 	
if 
( 
id 
<= 
$num 
) 
{ 
return   

BadRequest   !
(  ! "
)  " #
;  # $
}!! 
return## 
Ok## 
(## 
await## 
_equipoRepository## -
.##- .
	GetEquipo##. 7
(##7 8
id##8 :
)##: ;
)##; <
;##< =
}$$ 	
[&& 	
HttpPost&&	 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
InsertEquipo'') 5
(''5 6
[''6 7
FromBody''7 ?
]''? @
equipo''A G
team''H L
)''L M
{(( 	
if)) 
()) 
team)) 
==)) 
null)) 
))) 
{** 
return++ 

BadRequest++ !
(++! "
)++" #
;++# $
},, 
if.. 
(.. 
!.. 

ModelState.. 
... 
IsValid.. #
)..# $
{// 
return00 

BadRequest00 !
(00! "

ModelState00" ,
)00, -
;00- .
}11 
var33 
equipo33 
=33 
await33 
_equipoRepository33 0
.330 1
InsertEquipo331 =
(33= >
team33> B
)33B C
;33C D
return55 
Created55 
(55 
$str55 $
,55$ %
equipo55& ,
)55, -
;55- .
}66 	
[88 	
HttpPut88	 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
UpdateEquipo99) 5
(995 6
[996 7
FromBody997 ?
]99? @
equipo99A G
team99H L
)99L M
{:: 	
if== 
(== 
team== 
==== 
null== 
)== 
{>> 
return?? 

BadRequest?? !
(??! "
)??" #
;??# $
}@@ 
ifBB 
(BB 
teamBB 
.BB 
idEquipoBB 
<=BB 
$numBB  !
)BB! "
{CC 
returnDD 

BadRequestDD !
(DD! "
)DD" #
;DD# $
}EE 
ifGG 
(GG 
StringGG 
.GG 
IsNullOrEmptyGG #
(GG# $
teamGG$ (
.GG( )
nombreEquipoGG) 5
)GG5 6
&&GG7 9
StringHH 
.HH 
IsNullOrEmptyHH $
(HH$ %
teamHH% )
.HH) *
paisHH* .
)HH. /
)HH/ 0
{II 
returnJJ 

BadRequestJJ !
(JJ! "
)JJ" #
;JJ# $
}KK 
awaitMM 
_equipoRepositoryMM #
.MM# $
UpdateEquipoMM$ 0
(MM0 1
teamMM1 5
)MM5 6
;MM6 7
returnOO 
	NoContentOO 
(OO 
)OO 
;OO 
}PP 	
[RR 	

HttpDeleteRR	 
(RR 
$strRR 
)RR 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
DeleteEquipoSS) 5
(SS5 6
intSS6 9
idSS: <
)SS< =
{TT 	
ifVV 
(VV 
idVV 
<=VV 
$numVV 
)VV 
{WW 
returnXX 

BadRequestXX !
(XX! "
)XX" #
;XX# $
}YY 
await[[ 
_equipoRepository[[ #
.[[# $
DeleteEquipo[[$ 0
([[0 1
id[[1 3
)[[3 4
;[[4 5
return\\ 
	NoContent\\ 
(\\ 
)\\ 
;\\ 
}]] 	
}^^ 
}__ â(
`C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\estadioController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
estadioController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
IEstadioRepository +
_estadioRepository, >
;> ?
public 
estadioController  
(  !
IEstadioRepository! 3
estadioRepository4 E
)E F
{ 	
_estadioRepository 
=  
estadioRepository! 2
;2 3
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllEstadios) 7
(7 8
)8 9
{ 	
return 
Ok 
( 
await 
_estadioRepository .
.. /
GetAllEstadios/ =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetEstadioDetails) :
(: ;
int; >
id? A
)A B
{ 	
return 
Ok 
( 
await 
_estadioRepository .
.. /
GetEstadioDetails/ @
(@ A
idA C
)C D
)D E
;E F
} 	
["" 	
HttpPost""	 
]"" 
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
InsertEstadio##) 6
(##6 7
[##7 8
FromBody##8 @
]##@ A
estadio##B I
est##J M
)##M N
{$$ 	
if%% 
(%% 
est%% 
==%% 
null%% 
)%% 
{&& 
return'' 

BadRequest'' !
(''! "
)''" #
;''# $
}(( 
if** 
(** 
!** 

ModelState** 
.** 
IsValid** #
)**# $
{++ 
return,, 

BadRequest,, !
(,,! "

ModelState,," ,
),,, -
;,,- .
}-- 
var// 
estadio// 
=// 
await// 
_estadioRepository//  2
.//2 3
InsertEstadio//3 @
(//@ A
est//A D
)//D E
;//E F
return11 
Created11 
(11 
$str11 $
,11$ %
estadio11& -
)11- .
;11. /
}22 	
[55 	
HttpPut55	 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
UpdateEstadio66) 6
(666 7
[667 8
FromBody668 @
]66@ A
estadio66B I
est66J M
)66M N
{77 	
if88 
(88 
est88 
==88 
null88 
)88 
{99 
return:: 

BadRequest:: !
(::! "
)::" #
;::# $
};; 
if== 
(== 
!== 

ModelState== 
.== 
IsValid== #
)==# $
{>> 
return?? 

BadRequest?? !
(??! "

ModelState??" ,
)??, -
;??- .
}@@ 
awaitBB 
_estadioRepositoryBB $
.BB$ %
UpdateEstadioBB% 2
(BB2 3
estBB3 6
)BB6 7
;BB7 8
returnDD 
	NoContentDD 
(DD 
)DD 
;DD 
}EE 	
[GG 	

HttpDeleteGG	 
]GG 
publicHH 
asyncHH 
TaskHH 
<HH 
IActionResultHH '
>HH' (
DeleteEstadioHH) 6
(HH6 7
[HH7 8
FromBodyHH8 @
]HH@ A
estadioHHB I
estHHJ M
)HHM N
{II 	
ifKK 
(KK 
estKK 
==KK 
nullKK 
)KK 
{LL 
returnMM 

BadRequestMM !
(MM! "
)MM" #
;MM# $
}NN 
ifPP 
(PP 
!PP 

ModelStatePP 
.PP 
IsValidPP #
)PP# $
{QQ 
returnRR 

BadRequestRR !
(RR! "

ModelStateRR" ,
)RR, -
;RR- .
}SS 
awaitUU 
_estadioRepositoryUU $
.UU$ %
DeleteEstadioUU% 2
(UU2 3
estUU3 6
)UU6 7
;UU7 8
returnWW 
	NoContentWW 
(WW 
)WW 
;WW 
}XX 	
}YY 
}ZZ (
]C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\ligaController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
ligaController 
:  !
ControllerBase" 0
{ 
private 
readonly 
ILigaRepository (
_ligaRepository) 8
;8 9
public 
ligaController 
( 
ILigaRepository -
LigaRepository. <
)< =
{ 	
_ligaRepository 
= 
LigaRepository ,
;, -
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllLigas) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_ligaRepository +
.+ ,
GetAllLigas, 7
(7 8
)8 9
)9 :
;: ;
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
GetLigaDetails!!) 7
(!!7 8
int!!8 ;
id!!< >
)!!> ?
{"" 	
return## 
Ok## 
(## 
await## 
_ligaRepository## +
.##+ ,
GetLigaDetails##, :
(##: ;
id##; =
)##= >
)##> ?
;##? @
}$$ 	
[&& 	
HttpPost&&	 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (

InsertLiga'') 3
(''3 4
[''4 5
FromBody''5 =
]''= >
liga''? C
lig''D G
)''G H
{(( 	
if)) 
()) 
lig)) 
==)) 
null)) 
))) 
{** 
return++ 

BadRequest++ !
(++! "
)++" #
;++# $
},, 
if.. 
(.. 
!.. 

ModelState.. 
... 
IsValid.. #
)..# $
{// 
return00 

BadRequest00 !
(00! "

ModelState00" ,
)00, -
;00- .
}11 
var33 
ligas33 
=33 
await33 
_ligaRepository33 -
.33- .

InsertLiga33. 8
(338 9
lig339 <
)33< =
;33= >
return55 
Created55 
(55 
$str55 $
,55$ %
ligas55& +
)55+ ,
;55, -
}66 	
[88 	
HttpPut88	 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (

UpdateLiga99) 3
(993 4
[994 5
FromBody995 =
]99= >
liga99? C
lig99D G
)99G H
{:: 	
if;; 
(;; 
lig;; 
==;; 
null;; 
);; 
{<< 
return== 

BadRequest== !
(==! "
)==" #
;==# $
}>> 
if@@ 
(@@ 
!@@ 

ModelState@@ 
.@@ 
IsValid@@ #
)@@# $
{AA 
returnBB 

BadRequestBB !
(BB! "

ModelStateBB" ,
)BB, -
;BB- .
}CC 
awaitEE 
_ligaRepositoryEE !
.EE! "

UpdateLigaEE" ,
(EE, -
ligEE- 0
)EE0 1
;EE1 2
returnGG 
	NoContentGG 
(GG 
)GG 
;GG 
}HH 	
[JJ 	

HttpDeleteJJ	 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (

DeleteLigaKK) 3
(KK3 4
[KK4 5
FromBodyKK5 =
]KK= >
ligaKK? C
ligKKD G
)KKG H
{LL 	
ifNN 
(NN 
ligNN 
==NN 
nullNN 
)NN 
{OO 
returnPP 

BadRequestPP !
(PP! "
)PP" #
;PP# $
}QQ 
ifSS 
(SS 
!SS 

ModelStateSS 
.SS 
IsValidSS #
)SS# $
{TT 
returnUU 

BadRequestUU !
(UU! "

ModelStateUU" ,
)UU, -
;UU- .
}VV 
awaitXX 
_ligaRepositoryXX !
.XX! "

DeleteLigaXX" ,
(XX, -
ligXX- 0
)XX0 1
;XX1 2
returnZZ 
	NoContentZZ 
(ZZ 
)ZZ 
;ZZ 
}[[ 	
}]] 
}^^ Ö)
dC:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\ligaUsuarioController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class !
ligaUsuarioController &
:& '
ControllerBase( 6
{ 
private 
readonly "
ILigaUsuarioRepository /"
_ligaUsuarioRepository0 F
;F G
public !
ligaUsuarioController $
($ %"
ILigaUsuarioRepository% ;!
LigaUsuarioRepository< Q
)Q R
{ 	"
_ligaUsuarioRepository "
=# $!
LigaUsuarioRepository% :
;: ;
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllLigaUsuarios) ;
(; <
)< =
{ 	
return 
Ok 
( 
await "
_ligaUsuarioRepository 2
.2 3
GetAllLigaUsuarios3 E
(E F
)F G
)G H
;H I
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (!
GetUsuarioLigaDetails!!) >
(!!> ?
int!!? B
id!!C E
)!!E F
{"" 	
return## 
Ok## 
(## 
await## "
_ligaUsuarioRepository## 2
.##2 3!
GetLigaUsuarioDetails##3 H
(##H I
id##I K
)##K L
)##L M
;##M N
}$$ 	
[&& 	
HttpPost&&	 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
InsertLigaUsuario'') :
('': ;
[''; <
FromBody''< D
]''D E
ligaUsuario''F Q
lig''R U
)''U V
{(( 	
if)) 
()) 
lig)) 
==)) 
null)) 
))) 
{** 
return++ 

BadRequest++ !
(++! "
)++" #
;++# $
},, 
if.. 
(.. 
!.. 

ModelState.. 
... 
IsValid.. #
)..# $
{// 
return00 

BadRequest00 !
(00! "

ModelState00" ,
)00, -
;00- .
}11 
var33 
ligaUsuario33 
=33 
await33 #"
_ligaUsuarioRepository33$ :
.33: ;
InsertLigaUsuario33; L
(33L M
lig33M P
)33P Q
;33Q R
return55 
Created55 
(55 
$str55 $
,55$ %
ligaUsuario55& 1
)551 2
;552 3
}66 	
[88 	
HttpPut88	 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
UpdateLigaUsuario99) :
(99: ;
[99; <
FromBody99< D
]99D E
ligaUsuario99F Q
lig99R U
)99U V
{:: 	
if;; 
(;; 
lig;; 
==;; 
null;; 
);; 
{<< 
return== 

BadRequest== !
(==! "
)==" #
;==# $
}>> 
if@@ 
(@@ 
!@@ 

ModelState@@ 
.@@ 
IsValid@@ #
)@@# $
{AA 
returnBB 

BadRequestBB !
(BB! "

ModelStateBB" ,
)BB, -
;BB- .
}CC 
awaitEE "
_ligaUsuarioRepositoryEE (
.EE( )
UpdateLigaUsuarioEE) :
(EE: ;
ligEE; >
)EE> ?
;EE? @
returnGG 
	NoContentGG 
(GG 
)GG 
;GG 
}HH 	
[JJ 	

HttpDeleteJJ	 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
DeleteLigaUsuarioKK) :
(KK: ;
[KK; <
FromBodyKK< D
]KKD E
ligaUsuarioKKF Q
ligKKR U
)KKU V
{LL 	
ifNN 
(NN 
ligNN 
==NN 
nullNN 
)NN 
{OO 
returnPP 

BadRequestPP !
(PP! "
)PP" #
;PP# $
}QQ 
ifSS 
(SS 
!SS 

ModelStateSS 
.SS 
IsValidSS #
)SS# $
{TT 
returnUU 

BadRequestUU !
(UU! "

ModelStateUU" ,
)UU, -
;UU- .
}VV 
awaitXX "
_ligaUsuarioRepositoryXX (
.XX( )
DeleteLigaUsuarioXX) :
(XX: ;
ligXX; >
)XX> ?
;XX? @
returnZZ 
	NoContentZZ 
(ZZ 
)ZZ 
;ZZ 
}[[ 	
}]] 
}^^ Ö
]C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\pagoController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
pagoController

 
:

  !
ControllerBase

" 0
{ 
private 
readonly 
IPagoRepository (
_pagoRepository) 8
;8 9
public 
pagoController 
( 
IPagoRepository -
pagoRepository. <
)< =
{ 	
_pagoRepository 
= 
pagoRepository ,
;, -
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllPagos) 4
(4 5
)5 6
{ 	
return 
Ok 
( 
await 
_pagoRepository +
.+ ,
GetAllPagos, 7
(7 8
)8 9
)9 :
;: ;
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetPagoDetails) 7
(7 8
int8 ;
idPago< B
)B C
{ 	
return 
Ok 
( 
await 
_pagoRepository +
.+ ,
GetPagoDetails, :
(: ;
idPago; A
)A B
)B C
;C D
}   	
["" 	
HttpPost""	 
]"" 
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (

InsertPago##) 3
(##3 4
[##4 5
FromBody##5 =
]##= >
pago##? C
pag##D G
)##G H
{$$ 	
if%% 
(%% 
pag%% 
==%% 
null%% 
)%% 
{&& 
return'' 

BadRequest'' !
(''! "
)''" #
;''# $
}(( 
if** 
(** 
!** 

ModelState** 
.** 
IsValid** #
)**# $
{++ 
return,, 

BadRequest,, !
(,,! "

ModelState,," ,
),,, -
;,,- .
}-- 
var// 
pago// 
=// 
await// 
_pagoRepository// ,
.//, -

InsertPago//- 7
(//7 8
pag//8 ;
)//; <
;//< =
return11 
Created11 
(11 
$str11 $
,11$ %
pago11& *
)11* +
;11+ ,
}22 	
}33 
}44 ð(
`C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\tarjetaController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
tarjetaController

 "
:

# $
ControllerBase

% 3
{ 
private	 
readonly 
ITarjetaRepository ,
_tarjetaRepository- ?
;? @
public	 
tarjetaController !
(! "
ITarjetaRepository" 4
tarjetaRepository5 F
)F G
{ 	
_tarjetaRepository 
=  
tarjetaRepository! 2
;2 3
} 	
[	 

HttpGet
 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllTarjetas) 7
(7 8
)8 9
{ 	
return 
Ok 
( 
await 
_tarjetaRepository .
.. /
GetAllTarjetas/ =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpGet	 
( 
$str 
) 
]  
public 
async 
Task 
< 
IActionResult '
>' (
GetTarjetaDetails) :
(: ;
int; >
	idTarjeta? H
)H I
{ 	
return 
Ok 
( 
await 
_tarjetaRepository .
.. /
GetTarjetaDetails/ @
(@ A
	idTarjetaA J
)J K
)K L
;L M
} 	
[   	
HttpPost  	 
]   
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
InsertTarjeta!!) 6
(!!6 7
[!!7 8
FromBody!!8 @
]!!@ A
tarjeta!!B I
tar!!J M
)!!M N
{"" 	
if## 
(## 
tar## 
==## 
null## 
)## 
{$$ 
return%% 

BadRequest%% !
(%%! "
)%%" #
;%%# $
}&& 
if(( 
((( 
!(( 

ModelState(( 
.(( 
IsValid(( #
)((# $
{)) 
return** 

BadRequest** !
(**! "

ModelState**" ,
)**, -
;**- .
}++ 
var-- 
tarjeta-- 
=-- 
await-- 
_tarjetaRepository--  2
.--2 3
InsertTarjeta--3 @
(--@ A
tar--A D
)--D E
;--E F
return// 
Created// 
(// 
$str// $
,//$ %
tarjeta//% ,
)//, -
;//- .
}00 	
[22 	
HttpPut22	 
]22 
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
UpdateTarjeta33) 6
(336 7
[337 8
FromBody338 @
]33@ A
tarjeta33B I
tar33J M
)33M N
{44 	
if55 
(55 
tar55 
==55 
null55 
)55 
{66 
return77 

BadRequest77 !
(77! "
)77" #
;77# $
}88 
if:: 
(:: 
!:: 

ModelState:: 
.:: 
IsValid:: #
)::# $
{;; 
return<< 

BadRequest<< !
(<<! "

ModelState<<" ,
)<<, -
;<<- .
}== 
await?? 
_tarjetaRepository?? $
.??$ %
UpdateTarjeta??% 2
(??2 3
tar??3 6
)??6 7
;??7 8
returnAA 
	NoContentAA 
(AA 
)AA 
;AA 
}BB 	
[DD 	

HttpDeleteDD	 
]DD 
publicEE 
asyncEE 
TaskEE 
<EE 
IActionResultEE '
>EE' (
DeleteTarjetaEE) 6
(EE6 7
[EE7 8
FromBodyEE8 @
]EE@ A
tarjetaEEB I
tarEEJ M
)EEM N
{FF 	
ifHH 
(HH 
tarHH 
==HH 
nullHH 
)HH 
{II 
returnJJ 

BadRequestJJ !
(JJ! "
)JJ" #
;JJ# $
}KK 
ifMM 
(MM 
!MM 

ModelStateMM 
.MM 
IsValidMM #
)MM# $
{NN 
returnOO 

BadRequestOO !
(OO! "

ModelStateOO" ,
)OO, -
;OO- .
}PP 
awaitRR 
_tarjetaRepositoryRR $
.RR$ %
DeleteTarjetaRR% 2
(RR2 3
tarRR3 6
)RR6 7
;RR7 8
returnTT 
	NoContentTT 
(TT 
)TT 
;TT 
}UU 	
}VV 
}WW á(
`C:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Controllers\usuarioController.cs
	namespace 	

ApiRestSQL
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[		 
ApiController		 
]		 
public

 

class

 
usuarioController

 "
:

# $
ControllerBase

% 3
{ 
private 
readonly 
IUsuarioRepository +
_usuarioRepository, >
;> ?
public 
usuarioController  
(  !
IUsuarioRepository! 3
usuarioRepository4 E
)E F
{ 	
_usuarioRepository 
=  
usuarioRepository! 2
;2 3
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAllUsuario) 6
(6 7
)7 8
{ 	
return 
Ok 
( 
await 
_usuarioRepository .
.. /
GetAllUsuarios/ =
(= >
)> ?
)? @
;@ A
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetUsuarioDetails) :
(: ;
int; >
id? A
)A B
{ 	
return 
Ok 
( 
await 
_usuarioRepository .
.. /
GetUsuarioDetails/ @
(@ A
idA C
)C D
)D E
;E F
} 	
[!! 	
HttpPost!!	 
]!! 
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
InsertUsuario"") 6
(""6 7
[""7 8
FromBody""8 @
]""@ A
usuario""B I
usu""J M
)""M N
{## 	
if$$ 
($$ 
usu$$ 
==$$ 
null$$ 
)$$ 
{%% 
return&& 

BadRequest&& !
(&&! "
)&&" #
;&&# $
}'' 
if)) 
()) 
!)) 

ModelState)) 
.)) 
IsValid)) #
)))# $
{** 
return++ 

BadRequest++ !
(++! "

ModelState++" ,
)++, -
;++- .
},, 
var.. 
usuario.. 
=.. 
await.. 
_usuarioRepository..  2
...2 3
InsertUsuario..3 @
(..@ A
usu..A D
)..D E
;..E F
return00 
Created00 
(00 
$str00 $
,00$ %
usuario00% ,
)00, -
;00- .
}11 	
[33 	
HttpPut33	 
]33 
public44 
async44 
Task44 
<44 
IActionResult44 '
>44' (
UpdateUsuario44) 6
(446 7
[447 8
FromBody448 @
]44@ A
usuario44B I
usu44J M
)44M N
{55 	
if66 
(66 
usu66 
==66 
null66 
)66 
{77 
return88 

BadRequest88 !
(88! "
)88" #
;88# $
}99 
if;; 
(;; 
!;; 

ModelState;; 
.;; 
IsValid;; #
);;# $
{<< 
return== 

BadRequest== !
(==! "

ModelState==" ,
)==, -
;==- .
}>> 
await@@ 
_usuarioRepository@@ $
.@@$ %
UpdateUsuario@@% 2
(@@2 3
usu@@3 6
)@@6 7
;@@7 8
returnBB 
	NoContentBB 
(BB 
)BB 
;BB 
}CC 	
[EE 	

HttpDeleteEE	 
]EE 
publicFF 
asyncFF 
TaskFF 
<FF 
IActionResultFF '
>FF' (
DeleteUsuarioFF) 6
(FF6 7
[FF7 8
FromBodyFF8 @
]FF@ A
usuarioFFB I
usuFFJ M
)FFM N
{GG 	
ifII 
(II 
usuII 
==II 
nullII 
)II 
{JJ 
returnKK 

BadRequestKK !
(KK! "
)KK" #
;KK# $
}LL 
ifNN 
(NN 
!NN 

ModelStateNN 
.NN 
IsValidNN #
)NN# $
{OO 
returnPP 

BadRequestPP !
(PP! "

ModelStatePP" ,
)PP, -
;PP- .
}QQ 
awaitSS 
_usuarioRepositorySS $
.SS$ %
DeleteUsuarioSS% 2
(SS2 3
usuSS3 6
)SS6 7
;SS7 8
returnUU 
	NoContentUU 
(UU 
)UU 
;UU 
}VV 	
}WW 
}XX 
JC:\Users\Gonza\OneDrive\Documents\Github\ACSProyecto\ApiRestSQL\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
var 
configMySql 
= 
new 
	MySqlConf 
(  
builder  '
.' (
Configuration( 5
.5 6
GetConnectionString6 I
(I J
$strJ [
)[ \
)\ ]
;] ^
builder		 
.		 
Services		 
.		 
AddSingleton		 
(		 
configMySql		 )
)		) *
;		* +
builder 
. 
Services 
. 
	AddScoped 
< 
IUsuarioRepository -
,- .
UsuarioRepository/ @
>@ A
(A B
)B C
;C D
builder 
. 
Services 
. 
	AddScoped 
< 
ILigaRepository *
,* +
LigaRepository, :
>: ;
(; <
)< =
;= >
builder 
. 
Services 
. 
	AddScoped 
< 
ITarjetaRepository -
,- .
TarjetaRepository/ @
>@ A
(A B
)B C
;C D
builder 
. 
Services 
. 
	AddScoped 
< "
ILigaUsuarioRepository 1
,1 2!
LigaUsuarioRepository3 H
>H I
(I J
)J K
;K L
builder 
. 
Services 
. 
	AddScoped 
< 
IPagoRepository *
,* +
PagoRepository, :
>: ;
(; <
)< =
;= >
builder 
. 
Services 
. 
	AddScoped 
< 
IEquipoRepository ,
,, -
EquipoRepository. >
>> ?
(? @
)@ A
;A B
builder 
. 
Services 
. 
	AddScoped 
< 
IEstadioRepository -
,- .
EstadioRepository/ @
>@ A
(A B
)B C
;C D
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
}   
app"" 
."" 
UseHttpsRedirection"" 
("" 
)"" 
;"" 
app$$ 
.$$ 
UseAuthorization$$ 
($$ 
)$$ 
;$$ 
app&& 
.&& 
MapControllers&& 
(&& 
)&& 
;&& 
app(( 
.(( 
Run(( 
((( 
)(( 	
;((	 
